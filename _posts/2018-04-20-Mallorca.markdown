---
layout: post
title: "Mallorca"
img: travel/mallorca.jpg # Add image post (optional)
date: 2018-04-20 12:53:00 +0300
lat: "39.566667"
lng: "2.65"
zoom: 6
description: Mallorca
tag: [Travel]
categories: Travel
---
Climbing and traveling in Mallorca.

<img id="test" src=""/>

<div id="prepopulated-fancybox">

</div>


<a id="Atest" data-fancybox="gallery" href=""><img id="imgTest" src=""></a>


<script>

var albumTag = 'AF1QipMBWCNKFSw2sRyIIg2u98PgEnWdtQ3q2CecXaDZs1nBLf4-udwGlztFjGWo4U-2ww?key=MFlJVDhPbGx0c0RNY1BBUTFPZU9vLWp4OUlVN2VR';

var albumPhotoNumber = 5;

// throw image URIs
var collection ; 

$.getJSON('http://www.whateverorigin.org/get?url=' + encodeURIComponent('https://photos.google.com/share/' + albumTag) + '&callback=?', function(data){

var matches = [];
let m;

const regex = /\"https:\/\/lh3\.googleusercontent\.com\/[^<]+\"\>/gm;

while ((m = regex.exec(data.contents)) !== null) {
    // This is necessary to avoid infinite loops with zero-width matches
    if (m.index === regex.lastIndex) {
        regex.lastIndex++;
    }
    
    matches.push(m);
    
    // The result can be accessed through the `m`-variable.
    m.forEach((match, groupIndex) => {
        console.log(`Found match, group ${groupIndex}: ${match}`);
    });
}

    
    var imagesNumber = matches.length;
    
    //for all images
    
    for(var i = 0 ; i < imagesNumber ; i++) {
    
        var CleanURLRegex = /(https[^">=]+)/;
        var URL = matches[i].match(CleanURLRegex);
    
        var h = 200;
        var w = 200;
        
        //Properly format URLs
        
        if (URL != null) {
            if (URL.length > 0) {
            URL = URL[0];
            }
            var appendHTML = '<a data-fancybox="gallery" href="'+URL+"=w"+w*4+"-h"+h*4+'-p-k"><img src="'+URL+"=w"+w+"-h"+h+'-p-k"></a>\n';
    
            $( "#prepopulated-fancybox" ).append(appendHTML);
        }
        

    }
    
    
    
    var CleanURLRegex = /(https[^">=]+)/;
    var URL = matches[0].match(CleanURLRegex);
    
    var h = 200;
    var w = 200;
    
    $("#test").attr("src",URL[0]+"=w"+w+"-h"+h+"-p-k");
    
    $("#imgTest").attr("src",URL[0]+"=w"+w+"-h"+h+"-p-k");
    
    $("#Atest").attr("href",URL[0]+"=w"+w*4+"-h"+h*4+"-p-k");
    
    
    
    
});


</script>